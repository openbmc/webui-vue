{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3e615419_eebffba1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-02-14T01:55:11Z",
      "side": 1,
      "message": "Why do we want this?",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 17,
        "endChar": 40
      },
      "revId": "86ea0955c32af6854597f5731839966048ef366c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e6eab50_9ae40d54",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1000276
      },
      "writtenOn": "2023-02-14T20:54:16Z",
      "side": 1,
      "message": "This may have morphed from a session issue:\n\nOriginally, all we needed to do was check the current password authentication before proceeding with the password change.  Damian chose to do this by starting a new Redfish Session.  The problem was, on success, you were now left with two active sessions.\n\nI believe he originally planned to only delete the new session.  There is another security issue that still needs to be discussed on whether all sessions should close on password change, and this patch set may have been tainted from that separate issue.\n\nIf we can get away with just deleting the new session or finding a way to authenticate the current password without starting a new session, I think it may be better.  Then we can leave the \"delete all sessions\" question to that discussion.\n\nAs a side thought.  The new session would be left inactive and bmcweb will close it automatically on timeout.  Is there any harm in leaving the extra session open and just letting it time out on its own?",
      "parentUuid": "3e615419_eebffba1",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 17,
        "endChar": 40
      },
      "revId": "86ea0955c32af6854597f5731839966048ef366c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0c3c097_2760b894",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-02-14T21:40:57Z",
      "side": 1,
      "message": "\u003e If we can get away with just deleting the new session or finding a way to authenticate the current password without starting a new session, I think it may be better. \n\n+1. \n\n\u003e  The new session would be left inactive and bmcweb will close it automatically on timeout.\n\nAgree. \n\n\u003e  Is there any harm in leaving the extra session open and just letting it time out on its own?\n\nI will let Joseph weigh in since he raised this but then it shows up in the sessionService and on the session page of the GUI. I don\u0027t find this the end of the world but unexpected. I find this less annoying that the current patch which deletes all the sessions of this user and has a race condition.",
      "parentUuid": "3e6eab50_9ae40d54",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 17,
        "endChar": 40
      },
      "revId": "86ea0955c32af6854597f5731839966048ef366c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd3d1131_c7b0e412",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1001682
      },
      "writtenOn": "2023-02-15T13:49:05Z",
      "side": 1,
      "message": "I updated the patch to validate the current password, after success allowing the user to change the password and log out of the current session.\n\nAs you mentioned in the above comments, we will look into deleting all the password changed sessions as a separate issue.",
      "parentUuid": "f0c3c097_2760b894",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 17,
        "endChar": 40
      },
      "revId": "86ea0955c32af6854597f5731839966048ef366c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "578c566e_d01738a2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-02-15T15:58:32Z",
      "side": 1,
      "message": "So the current patch set just leaves around the session used to test if the old password was correct?",
      "parentUuid": "bd3d1131_c7b0e412",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 17,
        "endChar": 40
      },
      "revId": "86ea0955c32af6854597f5731839966048ef366c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}